#!/bin/bash

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
SCRIPTS_DIR="$SCRIPT_DIR/runbook-scripts"

show_help() {
    echo "Usage: runbook <command>"
    echo ""
    echo "Available commands:"
    echo "  fix-unraid-networking    Restart Avahi daemon when box.local stops resolving"
    echo "  update-unraid-docker     Update all Docker containers on UnRaid server"
    echo "  help                     Show this help message"
}

case "$1" in
    "fix-unraid-networking")
        "$SCRIPTS_DIR/fix-unraid-local.sh"
        ;;
    "update-unraid-docker")
        "$SCRIPTS_DIR/update-unraid-docker.sh"
        ;;
    "help"|"--help"|"-h"|"")
        show_help
        ;;
    *)
        echo "Unknown command: $1"
        echo ""
        show_help
        exit 1
        ;;
esac
